<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="viewport"
          content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Disambiguating Data Wallets</title>
    <meta name="description" content="Blog of a Software Engineer and Researcher"/>
    <meta name="keywords" content="blog,developer blog,engineering blog,research blog,oxford,oxford university"/>
    <link rel="alternate" type="application/rss+xml" title="Jesse Wright" href="/rss.xml" />

    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Alegreya:400,400i|Lato:400,400i,700,900|Roboto+Mono:400,300">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/shades-of-purple.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>

    <link rel="stylesheet" href="/css/normalize.css"/>
    <link rel="stylesheet" href="/css/theme.css"/>
</head>
<body>
<nav class="nav">
    <div class="nav__left">
        <a href="/">Home</a>
        <a href="/about">About</a>
    </div>
    <div class="nav__right">
        <a target="_blank" href="https://github.com/jeswr" class="link-github">GitHub</a>
        <a target="_blank" href="https://twitter.com/" class="link-twitter">Twitter</a>
        <a href="mailto:jesse@jeswr.org" class="link-email">Email</a>
        <a href="/rss.xml" class="link-rss">RSS</a>
    </div>
</nav>

<article class="mar-b-7">
    <header class="text-center">
        <time class="mar-b-6" datetime="Thu, March 13, 2025">Thu, March 13, 2025</time>
        <h1 class="mar-b-7">Disambiguating Data Wallets</h1>
    </header>
    <p>Data wallets are becoming popular, as this happens the term is becoming increasingly <em>overloaded</em> and <em>confused</em>. This post is a digestable disambgiuation üçú of the standards üìá, regulation ‚úíÔ∏è, implementors :screwdriver:, and other players üôã in the space.</p>
<h2 id="thestandards">The Standards</h2>
<p>As an engineer, I like to start by talking about the technology and standards behind data wallets. From there, we can point to which standards that regulators do - or don't - choose.</p>
<p>Don't worry - the tech is <em>not hard to understand</em>. As you'll soon see the confusion comes from having many players who want <strong>their solution</strong> to win out.</p>
<h3 id="thegoal">The goal</h3>
<p><img src="/vc.webp" alt="" />
<em>Credit: <a href="https://www.dock.io/post/verifiable-credentials">dock.io</a></em></p>
<p>The common goal of data wallets is to allow you to prove that <em>someone</em> said <em>something</em> - for instance that the <em>University of Oxford</em> says that you earned a DPhil in Computer Science, or that <em>TicketMaster</em> says they issued you with a valid ticked for tonights Taylor Swift concert.</p>
<p>To do this the <em>someone</em> (which we will now call an <em>issuer</em>) gives you, or more specifically an application on your device like Google Wallet (which we will call the <em>holder</em>) a digital Verifiable Credential. Examples include the <a href="https://www.gov.uk/government/news/digital-driving-licence-coming-this-year">UK digital drivers license</a> üí≥ and <a href="https://athumi.be/en/blog/news/athumi-and-itsme-launch-groundbreaking-digital-student-certificate-first-implemented-by-dibbs-en-be">Digital Student Certificates</a>.</p>
<p>This digital credential can then be forwarded to someone else (which we call a <em>verifier</em>) - such as an employer who wants to confirm that you have a valid Doctorate. Et. ‚ú®voila‚ú® you now have that dream job <a href="https://engineerdog.com/2023/05/29/why-do-so-many-programmers-want-to-be-farmers-how-to-build-a-corrugated-steel-garden-box/">growing cherry tomatoes</a><sup id="footnote1-ref"><a href="#footnote1" aria-label="Read footnote">1</a></sup>.</p>
<h3 id="thetech">The tech</h3>
<!-- TODO: Insert the diagram -->
<p>Now I said the tech wasn't that hard - so let's take a look at what is going on under the hood of these credentials.</p>
<p>Here is an example using <em>one</em> of the credential standards, specifically <a href="https://www.w3.org/TR/vc-data-model-2.0/">W3C Verifiable Credentials</a> - we'll come to the rest later. In this example, I have been issued with a "DPhil in Computer Science" from the University of Oxford.</p>
<pre><code class="json language-json">{
  "@context": "https://www.w3.org/ns/credentials/v2",
  "id": "http://www.ox.ac.uk/credentials/58473",
  "type": ["VerifiableCredential", "DPhilAwardCredential"],
  "issuer": "http://www.ox.ac.uk/",
  "credentialSubject": {
    "id": "https://www.jeswr.org/#me",
    "awarded": {
      "id": "http://www.cs.ox.ac.uk/awards/DPhil",
      "name": "DPhil in Computer Science"
    }
  }
}
</code></pre>
<p><em>A <a href="https://json-ld.org">JSON-LD</a> representation of a <a href="https://www.w3.org/TR/vc-data-model-2.0/">W3C Verifiable Credential</a> for a DPhil Award</em></p>
<p>But there is one problem, <em>I just made this up</em>. So how is this supposed to be useful in my job application to become a farm hand<sup id="footnote2-ref"><a href="#footnote2" aria-label="Read footnote">2</a></sup>.</p>
<!-- TODO: Survey whether this section helps or adds confusion -->
<p>Well, what would help is for Oxford to <em>digitally sign</em> this credential.</p>
<p>The concept of digital signatures has existed for <em>decades</em> and whether you're aware of it or not - is already in many parts of your digital life, including being the backbone of the HTTPS security. More recently, if you've found yourself using passkeys to log into websites - then you've been using digital signatures to <em>sign</em> a message saying "I own this account, please let me in!"</p>
<p><img src="/passkey.jpg" alt="" /></p>
<h4 id="signatures">Signatures</h4>
<p>So how do these signatures actually work?</p>
<p>First, a <em>hash</em> of the digital credential document is created - and is a unique fingerprint üêæ for the document. For the DPhil Award Credential, this is what the hash looks like:</p>
<pre><code>4sSXDN7iEw2niW96vPWNPJVeiwWe6VR77jl+wRnA6bk=
</code></pre>
<p>You can try generating it for yourself <a href="https://emn178.github.io/online-tools/sha256.html?input=%7B%0A%20%20%22%40context%22%3A%20%22https%3A%2F%2Fwww.w3.org%2Fns%2Fcredentials%2Fv2%22%2C%0A%20%20%22id%22%3A%20%22http%3A%2F%2Fwww.ox.ac.uk%2Fcredentials%2F58473%22%2C%0A%20%20%22type%22%3A%20%5B%22VerifiableCredential%22%2C%20%22DPhilAwardCredential%22%5D%2C%0A%20%20%22issuer%22%3A%20%22http%3A%2F%2Fwww.ox.ac.uk%2F%22%2C%0A%20%20%22credentialSubject%22%3A%20%7B%0A%20%20%20%20%22id%22%3A%20%22https%3A%2F%2Fwww.jeswr.org%2F%23me%22%2C%0A%20%20%20%20%22awarded%22%3A%20%7B%0A%20%20%20%20%20%20%22id%22%3A%20%22http%3A%2F%2Fwww.cs.ox.ac.uk%2Fawards%2FDPhil%22%2C%0A%20%20%20%20%20%20%22name%22%3A%20%22DPhil%20in%20Computer%20Science%22%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D&input_type=utf-8&output_type=base64&hmac_enabled=0&hmac_input_type=utf-8">here</a>. It is not important for this article to understand <em>how</em> this hash is generated, but if you're curious - <a href="https://blog.boot.dev/cryptography/how-sha-2-works-step-by-step-sha-256/#how-does-the-sha-256-algorithm-work">look here</a>.</p>
<p>The <em>issuer</em> (i.e. Oxford) then <em>signs</em> this hash using something called public-private key cryptography. The way this works is that the <em>issuer</em> uses some <a href="https://en.wikipedia.org/wiki/Public-key_cryptography">mathemagic</a> to generate a pair of files - one of which is called a <strong>public key</strong>, and the other which is called a <strong>private key</strong>. Below are real examples of these files:</p>
<pre><code>-----BEGIN RSA PRIVATE KEY-----
MIIBOgIBAAJBAKj34GkxFhD90vcNLYLInFEX6Ppy1tPf9Cnzj4p4WGeKLs1Pt8Qu
KUpRKfFLfRYC9AIKjbJTWit+CqvjWYzvQwECAwEAAQJAIJLixBy2qpFoS4DSmoEm
o3qGy0t6z09AIJtH+5OeRV1be+N4cDYJKffGzDa88vQENZiRm0GRq6a+HPGQMd2k
TQIhAKMSvzIBnni7ot/OSie2TmJLY4SwTQAevXysE2RbFDYdAiEBCUEaRQnMnbp7
9mxDXDf6AU0cN/RPBjb9qSHDcWZHGzUCIG2Es59z8ugGrDY+pxLQnwfotadxd+Uy
v/Ow5T0q5gIJAiEAyS4RaI9YG8EWx/2w0T67ZUVAw8eOMB6BIUg0Xcu+3okCIBOs
/5OiPgoTdSy7bcF9IGpSE8ZgGKzgYQVZeN97YE00
-----END RSA PRIVATE KEY-----
</code></pre>
<pre><code>-----BEGIN RSA PUBLIC KEY-----
MEgCQQCo9+BpMRYQ/dL3DS2CyJxRF+j6ctbT3/Qp84+KeFhnii7NT7fELilKUSnx
S30WAvQCCo2yU1orfgqr41mM70MBAgMBAAE=
-----END RSA PUBLIC KEY-----
</code></pre>
<p>What is special about the letters and numbers in these two files, is that a <a href="https://cryptobook.nakov.com/digital-signatures/rsa-signatures">mathematical function</a> can be used to combine the private key and the hash to generate a <em>signature</em> like this one:</p>
<pre><code>z58DAdFfa9SkqZMVPxAQp...jQCrfFPP2oumHKtz
</code></pre>
<p>The <em>issuer</em> keeps the private key a secret so that no-one can forge the signature. The <em>issuer</em> (Oxford) also tells <em>everyone</em> about their public key, for instance, by putting it on their website in a <a href="https://www.w3.org/TR/cid-1.0/">Controller Identifier Document (CID)</a>. Putting this all together, we add the following information to the DPhil Award Credential:</p>
<pre><code class="json language-json">{
  ...
  "proof": {
    ...
    "verificationMethod": "http://www.ox.ac.uk/pubkey",
    "proofValue": "z58DAdFfa9SkqZMVPxAQp...jQCrfFPP2oumHKtz"
  }
}
</code></pre>
<p>How does this help the <em>verifier</em> (my prospective farming employer) confirm that my DPhil Award Credential was <em>actually</em> stated by the <em>issuer</em> (Oxford)?</p>
<p>The <em>verifier</em> can use different mathematical function to convert a signature and public key into a hash. If that hash, is the same as the hash of my DPhil Award Credential, then they know that the award <em>must</em> have been signed by the private key that the <em>issuer</em> (Oxford) created.</p>
<h4 id="selectivedisclosure">Selective disclosure</h4>
<p><img src="/document.svg" alt="" /></p>
<p>Many headlines surrounding digital credentials - such as <a href="https://www.gov.uk/government/news/pubgoers-given-choice-to-prove-age-with-phones-next-year-in-boost-for-high-street-and-hospitality-sectors">this UK press release</a> - promise the ability to "prove your age without revealing any other information."</p>
<p>To enable this, some Verifiable Credentials are built with the capacity to perform Selective Disclosure. In short, this allows you to take a Verifiable Credential containing lots of information, such as <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-verifiable-credential-using-the-data-integrity-bbs-cryptosuite-with-a-base-proof">this Resident Card credential</a> - and forward only part of the information, such as your <code>birthDate</code> to the <em>verifier</em>, whilst enabling the <em>verifier</em> to confirm that the date of birth was contained in a validly signed Verifiable Credential.</p>
<h3 id="standardswars">Standards Wars</h3>
<p>Well that all makes sense ‚Ä¶ so what on earth is there to dispute? Quite a bit as it turns out! Broadly speaking the debate is around:</p>
<ul>
<li>What the <em>format</em> of the information inside the digital credential should be</li>
<li>What mathematical function should be used for creating the signature,</li>
<li>How the <em>hash</em> of the digital credential should be created, and</li>
<li>How to specify what attributes are described within a credential</li>
</ul>
<p>These are the kinds of battles that we have seen played out <em>many</em> times historically.</p>
<p>Past <a href="https://en.wikipedia.org/wiki/Format_war#:~:text=A%20format%20war%20is%20a,recording%20formats%20for%20electronic%20media.">format wars</a> include <a href="https://en.wikipedia.org/wiki/Videotape_format_war">VHS vs. BetaMax</a>, <a href="https://en.wikipedia.org/wiki/HD_DVD#:~:text=Much%20like%20the%20videotape%20format,format%2C%20Blu%2Dray%20Disc.">Blu-Ray vs. HD DVD</a>, and, if we dare venture back to the 1800's - wars over the <a href="https://en.wikipedia.org/wiki/Track_gauge">size of the rail gauge</a> and <a href="https://en.wikipedia.org/wiki/War_of_the_currents">type of electrical current</a> we should use.</p>
<p>So - what different formats are there? Who is backing them? How do they compare?</p>
<p>There are three key players in the space: The <a href="https://www.w3.org">World Wide Web Consortium (W3C)</a>, the <a href="https://www.iso.org/home.html">International Standards Organisation (ISO)</a>, and the <a href="https://www.ietf.org/">Internet Engineering Task Force (IETF)</a>.</p>
<p><img src="/generated/disambiguating-data-wallets-1.png" alt="diagram" /></p>
<h4 id="w3cspecifications">W3C Specifications</h4>
<p>The W3C were first to work on many standards around Digital Credentials, after the formation of a <a href="https://www.w3.org/community/credentials/">Credentials Community Group</a> in 2014. By 2017, this group had published their <a href="https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/">Verifiable Claims Data Model and Representations 1.0</a> which <a href="https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-expressing-identity-credentials-in-json-ld">defined how to express signed credentials</a> similar to the one shown in our earlier discussion of <a href="#the-tech">the tech</a>. This specification was prescriptive of core functionality such as <em>how to sign</em> credentials, describe core "metadata" such as <em>who issued the credential</em>, <em>when the credential was issued</em> and <em>who the credential is about</em>. The specification intentionally left the task of defining the data structures of domain specific credentials - such as a <em>diploma credential</em> or <em>digital driver's license</em> out of scope. Instead, allowing arbitrary credential <a href="https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-identity-profile-model"><code>type</code>s</a> to be listed.</p>
<p>Even <em>within</em> this <a href="https://www.w3.org">W3C</a> specification there is a tension in the <em>format</em> that should be used to describe the content of credentials. The specification provided a description of how to describe credentials using both <a href="https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#expressing-identity-profiles-entity-credentials-and-verifiable-claims-in-json">JSON</a> and <a href="https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-expressing-identity-credentials-in-json-ld">JSON-LD</a>. The <a href="https://www.ontotext.com/knowledgehub/fundamentals/linked-data-linked-open-data/">Linked Data</a> community advocated for the use of an <a href="https://en.wikipedia.org/wiki/Resource_Description_Framework">RDF</a> data model for its semantic richness, extensibility, and <a href="https://noeldemartin.com/blog/interoperable-serendipity">interoperability</a>, aligning credentials with the broader <a href="https://www.ontotext.com/knowledgehub/fundamentals/what-is-the-semantic-web/">Semantic Web vision</a> - and compromised to use JSON-LD as the encoding for this data model.</p>
<p>This data model is what backs <a href="https://www.stardog.com/knowledge-graph/">Enterprise Knowledge Graphs</a> such as the <a href="https://support.google.com/knowledgepanel/answer/9787176?hl=en">Google Knowledge Graph</a>. A key feature of this data model, is that it supports <em>contextual understanding</em>. Suppose I have the <a href="https://www.w3.org/TR/vc-data-model-2.0/#example-a-verifiable-credential-with-a-custom-extension">following credential</a>:</p>
<pre><code class="json language-json">{
  ...
  "type": ["VerifiableCredential", "CustomExt12"],
  "referenceNumber": 83294847,
  ...
}
</code></pre>
<p>This reference number could refer to any number of things; a customer support ticket, a product identifier, or a transaction receipt. So in order to understand how to use this information, I need to have a pre-defined understanding of what a <code>CustomExt12</code> credential describes. This also makes it difficult to <em>integrate</em> information from multiple credentials; as we need to keep track of the contextual information of which credential they were extracted from.</p>
<p>The use of RDF - encoded as JSON-LD - within Verifiable Credential standards provides another option. Here, all of this context is applied to the <code>referenceNumber</code> term - in JSON-LD this can be done as follows:</p>
<pre><code class="json language-json">{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2",
    "https://extension.example/my-contexts/v1"
  ],
  ...
  "type": ["VerifiableCredential", "CustomExt12"],
  "referenceNumber": 83294847,
  ...
}
</code></pre>
<p>The effect of adding this <code>@context</code> is to establish a <em>URI</em> defining <code>referenceNumber</code>, e.g. http://example.org/schema/receipts/tesco/referenceNumber. This URL can be <em>dereferenced</em> (looked up) to discover a contextual description e.g.:</p>
<pre><code class="ttl language-ttl">@prefix tesco: &lt;http://example.org/schema/receipts/tesco/&gt; .
@prefix recepits: &lt;http://example.org/schema/receipts/&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .

tesco:referenceNumber rdfs:subClassOf receipts:referenceNumber ;
  rdfs:name "Tesco Receipt Reference Number" ;
  rdfs:description "A unique reference number for receipt of purchasing a set of products at tesco" ;
  rdfs:domain tesco:purchase ;
  rdfs:range xsd:int .
</code></pre>
<p>This built in contextual information is especially useful when, for instance, we want to integrate data from many credentials that each may use the term <code>referenceNumber</code> to discuss different concepts (e.g. reference numbers from different types of purchases, shops etc.).</p>
<p>Conversely, the Security and Cryptography community pushed for plain JSON with JWT (JSON Web Tokens), to reduce implementation complexity and ease security analyses.</p>
<blockquote>
  <p>GPT-4.5 does a decent job of providing a slightly longer presentation of this history - which you can find <a href="/gpt-jsonld-vs-json.md">here</a>.</p>
</blockquote>
<p>By 2019 this work had evolved to having the formation of a W3C endorsed working group which produced the <a href="https://www.w3.org/TR/2019/REC-vc-data-model-20191119/">Verifiable Credentials Data Model 1.0</a>. This specification struck a <em>new compromise</em> to the data model; in particular requiring all credentials to be JSON-LD with a <em>particular framing</em> so that the document could be parsed both <a href="https://www.w3.org/TR/json-ld11/">as RDF</a> or as plain JSON. <a href="https://github.com/w3c/vc-data-model/issues/929">This approach comes with its own set of challenges</a>.</p>
<h3 id="isospecifications">ISO Specifications</h3>
<p>Instead of defining generic credential formats, ISO has instead taken the approach of defining credentials for specific domains.</p>
<p>The first Verifiable Credential specification published by ISO is the <a href="https://www.iso.org/standard/69084.html">Mobile driving license (mDL)</a> specification - published in 2021. This specification defines a fixed schema for describing approximately 30 attributes in digital driver's license's - such as the drivers <code>name</code>, <code>address</code>, <code>date of birth</code> and the <code>expiry date</code> of the license. The specification expects attributes to be serialized using JSON or <a href="https://cbor.io">CBOR</a> and thus lacks the out-of-the-box interoperability that comes with linked-data formats.</p>
<p>As we shall discuss in later sections, this digital driver's license specification also defines a series of bespoke <em>transmission</em> and <em>query</em> mechanisms.</p>
<p>This means that it is very well-defined how to build an infrastructure specifically for mDL licenses. The trade-off is that implementors need to build custom transmission flows, and query engines to support the specification. This both increases implementation burden, and hinders interoperability with non-mDL credentials.</p>
<p>ISO is also working on several other Verifiable Credential standards - including <a href="https://www.iso.org/standard/74910.html">Cards and security devices for personal identification</a> designed to standardize core features for electronic identity document including drivers licenses, passports, residency permits, and building passes. The underlying goal of the standard is to support interoperability between electronic identity (eID) systems. This standard also defines a range of attributes that may be required in different eID systems - extending those attributes found in the mDL license with attributes such as <code>Business Name</code>, <code>Profession</code>, and <code>Academic Title</code> to support workplace passes, as well as other attributes such as <code>telephone number</code> and <code>email address</code>. This specification also targets JSON and CBOR formats for encoding data in credentials - meaning that there are still interoperability challenges with systems that need to define attributes that are not defined within this document.</p>
<h3 id="ietfspecifications">IETF Specifications</h3>
<p>The IETF is also producing a set of JSON based verifiable credentials called <a href="https://www.ietf.org/archive/id/draft-ietf-oauth-sd-jwt-vc-03.html">SD-JWT-based Verifiable Credentials</a>.</p>
<p>JSON Web Tokens (JWT's) are commonly used on the Web today for a range of tasks requiring signed data - for instance they are often used to prove to a website that you are logged in and allowed to access private information on a website.</p>
<p>Selective Disclosure (SD) which we have already discussed above, is a mechanism for proving that a subset of information within a credential is true - without revealing the whole credential to a verifier.</p>
<p>As the <a href="https://www.ietf.org">Internet Engineering Task Force (IETF)</a> is responsible for producing a number of Internet Standards - the <a href="https://www.ietf.org/archive/id/draft-ietf-oauth-sd-jwt-vc-03.html">SD-JWT-based Verifiable Credentials</a> has been produced with the goal of allowing digital credentials to be easily integrated into existing internet systems - such as OAuth authentication flows - which are commonly used for single sign on.</p>
<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>W3C Verifiable Credentials</th>
      <th>ISO mDL (18013-5) / ISO 23220</th>
      <th>IETF SD-JWT VC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Data Format</strong></td>
      <td>JSON-LD with specified framing (can be parsed as both RDF and plain JSON)</td>
      <td>JSON or CBOR serialization with fixed schema</td>
      <td>JSON with JWT (JSON Web Token) structure</td>
    </tr>
    <tr>
      <td><strong>Signature Formats</strong></td>
      <td>Multiple supported (Data Integrity, JSON Web Signatures)</td>
      <td>ISO-specific cryptographic protocols</td>
      <td>JWT signatures (RS256, ES256, etc.)</td>
    </tr>
    <tr>
      <td><strong>Hashing Mechanisms</strong></td>
      <td>Various supported (SHA-256, etc.) depending on proof type</td>
      <td>Defined within ISO specifications</td>
      <td>SHA-256 and other algorithms supported by JWT</td>
    </tr>
    <tr>
      <td><strong>Attribute Specification</strong></td>
      <td>Semantic, extensible via RDF/JSON-LD context definitions</td>
      <td>Fixed schema with predefined attributes</td>
      <td>JSON claims with selective disclosure support</td>
    </tr>
    <tr>
      <td><strong>Selective Disclosure</strong></td>
      <td>Supported through various methods (BBS+, etc.)</td>
      <td>Limited to predefined attributes (e.g., age verification)</td>
      <td>Native support through SD-JWT mechanisms</td>
    </tr>
  </tbody>
</table>
<p><em>This table was generated with the assistance of claude-3.7-sonnet-thinking</em></p>
<!-- | **Credential Structure** | Generic model with extensible types and context-aware attributes | Domain-specific fixed schemas with predefined attributes | JWT-based structure supporting selective disclosure | -->
<!-- | **Interoperability** | High semantic interoperability across domains | Excellent within specific domains (e.g., mDL), limited across domains | Good integration with existing web infrastructure | -->
<!-- | **Web Integration** | Strong alignment with Semantic Web principles | Limited web-native capabilities | Strong integration with OAuth/OIDC flows | -->
<!-- | **Complexity** | Higher complexity due to RDF/JSON-LD features | Moderate complexity within domain boundaries | Moderate complexity, leverages existing JWT knowledge | -->
<!-- | **Adoption** | Growing across various sectors | Strong in government ID (driver's licenses) | Growing in enterprise settings | -->
<!-- Even within this specification there is a tension in the *format* that should be used to describe the content of credentials. The specification provided a description of how to describe credentials using both [JSON](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#expressing-identity-profiles-entity-credentials-and-verifiable-claims-in-json) and [JSON-LD](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-expressing-identity-credentials-in-json-ld) ... TODO "There is a crucial distinction" ...

How did this come to be? These credential specifications were largely driven by members of communities with distinctive priorities and training; in particular, the [Linked Data / Semantic Web community]() and the [Security / Cryptography]() community. 

Please help me finish this paragraph discussing the different priorities of the Linked Data and Security communities, and the advantages / disadvantages that each see with the JSON and JSON-LD versions of the specification -->
<!-- ---

The W3C were first to work on many standards around Digital Credentials, after the formation of a [Credentials Community Group](https://www.w3.org/community/credentials/) in 2014. By 2017, this group had published their [Verifiable Claims Data Model and Representations 1.0](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/) which [defined how to express signed credentials](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-expressing-identity-credentials-in-json-ld) similar to the one shown in our earlier discussion of [the tech](#the-tech). This specification was prescriptive of core functionality such as *how to sign* credentials, describe core "metadata" such as *who issued the credential*, *when the credential was issued* and *who the credential is about*. The specification intentionally left the task of defining the data structures of domain specific credentials - such as a *diploma credential* or *digital driver's license* out of scope. Instead, allowing arbitrary credential [`type`s](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-identity-profile-model) to be listed.

Even within this specification there is a tension in the *format* that should be used to describe the content of credentials. The specification provided a description of how to describe credentials using both [JSON](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#expressing-identity-profiles-entity-credentials-and-verifiable-claims-in-json) and [JSON-LD](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-expressing-identity-credentials-in-json-ld). The [Linked Data](https://www.ontotext.com/knowledgehub/fundamentals/linked-data-linked-open-data/) community advocated JSON-LD for its semantic richness, extensibility, and [interoperability](https://noeldemartin.com/blog/interoperable-serendipity), aligning credentials with the broader [Semantic Web vision](https://www.ontotext.com/knowledgehub/fundamentals/what-is-the-semantic-web/). JSON-LD enabled decentralized extensions of credential schemas, essential for diverse and evolving credential ecosystems. Conversely, the Security and Cryptography community emphasized the simplicity, clarity, and robustness of plain JSON with JWT (JSON Web Tokens), highlighting its straightforward cryptographic verification and reduced implementation complexity. Historical discussions in W3C mailing lists reveal significant concerns about JSON-LD's complexity in signature canonicalization, reminiscent of XML signature challenges, and practical adoption issues due to limited tooling. This fundamental divergence in priorities‚Äîsemantic interoperability versus simplicity and security‚Äîultimately resulted in a dual-path approach, legitimizing both JSON-LD credentials with Linked Data proofs and simpler JWT-secured JSON credentials, allowing developers to select the approach best suited to their needs. -->
<!-- Even within this specification, there is tension concerning the format used to describe the content of credentials. The specification provided descriptions for expressing credentials using both JSON and JSON-LD. There is a crucial distinction: JSON-LD, rooted in Linked Data principles, prioritizes semantic interoperability, data reuse, and linking entities across diverse contexts, leveraging URIs to create meaningful connections on the Semantic Web. Conversely, the Security and Cryptography community favors simpler, less ambiguous serializations such as plain JSON, focusing on straightforward cryptographic operations, minimal complexity, and robust security guarantees. The JSON-LD approach provides rich semantics and extensibility at the cost of additional complexity in processing and increased potential for implementation errors, whereas plain JSON offers simplicity, ease of cryptographic verification, and better predictability, but at the expense of reduced semantic clarity and interoperability across heterogeneous systems. These distinct priorities have led to ongoing discussions and occasional friction within the credential standards communities. -->
<!-- Proposed by: https://chatgpt.com/share/67d188e2-58a4-800c-98ab-dc5e40c55d68 -->
<!-- 
The W3C was among the first to establish standards around Digital Credentials, starting with the formation of a [Credentials Community Group](https://www.w3.org/community/credentials/) in 2014. By 2017, this group published the [Verifiable Claims Data Model and Representations 1.0](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/), defining core functionality such as credential signing, metadata describing the issuer, issuance date, and credential subject. The data structures for specific credentials like diplomas or driver's licenses were intentionally left out of scope, allowing flexibility through arbitrary credential [`type`s](https://www.w3.org/2017/05/vc-data-model/CGFR/2017-05-01/#h-identity-profile-model).

From the outset, a significant tension existed regarding the credential content formats‚ÄîJSON versus JSON-LD. The Linked Data community advocated JSON-LD for its semantic richness, extensibility, and interoperability, aligning credentials with the broader Semantic Web vision. JSON-LD enabled decentralized extensions of credential schemas, essential for diverse and evolving credential ecosystems. Conversely, the Security and Cryptography community emphasized the simplicity, clarity, and robustness of plain JSON with JWT (JSON Web Tokens), highlighting its straightforward cryptographic verification and reduced implementation complexity. Historical discussions in W3C mailing lists reveal significant concerns about JSON-LD's complexity in signature canonicalization, reminiscent of XML signature challenges, and practical adoption issues due to limited tooling. This fundamental divergence in priorities‚Äîsemantic interoperability versus simplicity and security‚Äîultimately resulted in a dual-path approach, legitimizing both JSON-LD credentials with Linked Data proofs and simpler JWT-secured JSON credentials, allowing developers to select the approach best suited to their needs.
 -->
<!-- GPT-4.5 does an ok job of providing a slightly longer presentation of this history - which you can find [here](/gpt-jsonld-vs-json.md). -->
<!-- W3C Timeline:

There are three key players in the space: The [World Wide Web Consortium (W3C)](https://www.w3.org), the [International Standards Organisation (ISO)](https://www.iso.org/home.html), and the [Internet Engineering Task Force (IETF)](https://www.ietf.org/).



"Late 2022: International adoption plans emerge. The European Digital Identity Wallet Architecture and Reference Framework (ARF) draft (by the EU's eIDAS expert group) lists OID4VP, OID4VCI, and SIOPv2 as required protocols for certain digital identity use cases Ôøº."


Cards and security devices for personal
identification ‚Äî Building blocks for identity
management via mobile devices

ISO Timeline:
 - 

Note the following from the 2020 WG Charter

Internet Engineering Task Force
The Working Group will seek security review from the IETF, coordinated through the Liaison.

Decentralized Identity Foundation Interoperability Working Group
To coordinate on broad horizontal review and integration of the specifications developed by the Working Group into the Decentralized Identity Foundation's ecosystem.

European Telecommunications Standards Institute - Electronic Signatures and Infrastructure Technical Committee
To coordinate in ensuring that eIDAS-compliant systems can be built on top of the specifications developed by the Working Group.

ISO/IEC JTC 1/SC 17/WG 10
Ensure that the mobile driving licenses being modeled and expressed by the ISO SC17 WG10 community are compatible with the work of the Verifiable Credentials WG.

ISO/IEC JTC 1/SC 17/WG 4
Ensure that the 23220-2 data model expressed by the ISO SC17 WG4 community is compatible with the work of the Verifiable Credentials WG.



Other W3C Notables:
 - [Jan 2025 - W3C Verifiable Credentials for Education Task Force](https://w3c-ccg.github.io/vc-ed/charter/) begins to create charter


 - W3C
   - VC 2.0
 - ISO
   - mDL (ISO/IEC 18013-5:2021)
    - To achieve
this, the mDL contains age attestation identifiers. An age attestation identifier has the format age_over_
NN where NN is a value from 00 to 99. The value of an age attestation identifier can be TRUE or FALSE.
   - MDL *does specify some transmission mechanisms, e.g., via NFC, BLE/GATT, WIFI Aware and QR code*
   - ISO/IEC touches upon *many* layers of the networking stack; e.g. touching upon discussion of which TLS method required.
   - ISO/IEC DTS 23220-4:
     - Defines largely domain specific attributes
     - Also has the ability to include biometric information
     - Also *repeats* information from the mDL specification; e.g., for age attestation

 - IETF
   - https://www.ietf.org/archive/id/draft-ietf-oauth-sd-jwt-vc-03.html
  - OpenID
    - OIDC4VP
    - OIDC4VCI
    - 

Include discussion fo JSON-LD vs. CBOR

OpenID4VCI:
 - https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0.html
 - 


SIOPv2:
 - https://openid.net/specs/openid-connect-self-issued-v2-1_0.html



In fact, multiple alternatives exist for credential data formats (e.g. ISO mDL and W3C), protocols (e.g. OpenID for Verifiable Credentials, DIDComm and ISO mDL), wallets, and verifiable data registries.


https://www.ietf.org/archive/id/draft-ietf-oauth-sd-jwt-vc-03.html

... and then there is OpenID4VP (https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0.html) which supports all(?) of them
https://openid.net/specs/openid4vc-high-assurance-interoperability-profile-sd-jwt-vc-1_0-00.html

https://openid.net/wg/digital-credentials-protocols/charter/

### The (big) missing piece

Websites for instance need HTML to tell you how a Website is displayed - but also need HTTP(S) to tell your browser *where* that website document is, and how to get it. -->
<h3 id="apushforalignment">A push for alignment</h3>
<p><img src="/openwallet.png" alt="" /></p>
<p>The <a href="https://openwallet.foundation">Open Wallet Foundation</a>, hosted by the <a href="https://www.linuxfoundation.org">Linux Foundation</a> has a mission to facilitate global interoperability of verifiable credentials.</p>
<p>To this end, the Open Wallet Foundation has <a href="https://cdn.platform.linuxfoundation.org/agreements/openwalletfoundation.pdf">been chartered to</a>:</p>
<blockquote>
  <ul>
  <li>develop and maintain open source code for wallets to enable and ensure wallet
  interoperability,</li>
  <li>advocate for the adoption of the interoperable digital wallet technology, and</li>
  <li>collaborate with Standards Development Organizations (SDOs) in the development and
  proliferation of open standards related to digital wallets
  The OWF will not publish a publicly available wallet (including into any application stores).</li>
  </ul>
</blockquote>
<p>OWF, has also taken on around two dozen <a href="https://github.com/orgs/openwallet-foundation/repositories?q=visibility%3Apublic+archived%3Afalse">open source codebases</a> in support of this mission.</p>
<p>A number of other alignment/harmonization efforts are also under way within standards organisations. <a href="https://www.iso.org/standard/86782.html">The draft ISO/IEC 23220-2 specification</a>, for instance, defines a "Common Development and Distribution License data model" to support mapping ISO defined credentials to the W3C Verifiable Credentials format.</p>
<!-- Note that ISO has a very  -->
<!-- Also to note:

ISO/IEC 23220-2: ISO/IEC 23220-2 defines a data model for interoperability between mobile eID-systems via data format translation. For example, -2 lists a Common Development and Distribution License data model mapping fields across different data formats used by mobile driver's licenses, JSON, W3C Verifiable Credentials and Verifiable Presentations, etc. This standard is still in draft form. -->
<!-- TODO: Potentially comment on ISO governance -->
<!-- This kind of governance yields very stable, vetted standards but not very agile in response to new tech ‚Äì which is why ISO is now looking to incorporate things like W3C's work after the fact. -->
<h2 id="regulationdrivingdatawallets">Regulation Driving Data Wallets</h2>
<h3 id="europeandigitalidentityeudiregulation">European Digital Identity (EUDI) Regulation</h3>
<p>After <a href="https://commission.europa.eu/strategy-and-policy/priorities-2019-2024/europe-fit-digital-age/european-digital-identity_en">three years in the making</a>, the EUDI (European Digital Identity) wallet officially came into force on May 20, 2024 - through the eIDAS (Electronic Identification, Authentication, and Trust Services) 2 regulation. EUDI promises to make "EU Digital Identity [‚Ä¶] available to EU citizens, residents, and businesses who want to identify themselves or provide confirmation of certain personal information." By 2026, every EU Member State will be <a href="https://ec.europa.eu/digital-building-blocks/sites/display/EUDIGITALIDENTITYWALLET/The+Digital+Identity+Regulation+Enters+into+Force">required to make</a> at least one Digital Identity Wallet available to all citizens and residents.</p>
<p>There are three core types of credentials that are to be made available under eIDAS 2 regulation:</p>
<ul>
<li>Electronic Attestation of Attributes (EAA) - which can be issued by <em>any</em> organisation that wants to make statements about a particular entity (e.g., they have a concert ticket, gym membership, or student card)</li>
<li>Qualified Electronic Attestation of Attributes (QEAA) - which can be issued <em>only</em> by <a href="https://eidas.ec.europa.eu/efda/trust-services/browse/eidas/tls">Qualified Trust Service Providers</a> to create legally binding credentials such as professional qualifications, birth cetificates, marriage licenses, property deeds and business operating licenses.</li>
<li>Personal Identification Data (PID) - which can be issued <em>only</em> by government authorities and serve as a proof of identity.</li>
</ul>
<p>The European Union has produced an <a href="https://digital-strategy.ec.europa.eu/en/library/european-digital-identity-wallet-architecture-and-reference-framework">Architecture and Reference Framework</a>, details of which are available <a href="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/1.1.0/arf/#4114-qualified-and-non-qualified-electronic-attestation-of-attributes-schema-providers">here</a>. This reference architecture specifies:</p>
<ul>
<li><a href="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/1.1.0/annexes/annex-06-pid-rulebook.pdf">How to issue PID data</a> using both the ISO mDL specification and the IEEE SD-JWT specification can be used to format the data, and how verifiers can request data using <a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html">OID4VP</a>.</li>
<li>That (Q)EAA's <a href="https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/1.1.0/arf/#631-issuing-requirements-for-qeaa">MUST be issued</a> in accordance with either the ISO mDL data model or the W3C Verifiable Credential Data Model.</li>
</ul>
<!-- electronic identification, authentication, and trust services (eIDAS)





Inlude discussion of eIDAS popularit

Qualified Electronic Attestation of Attributes (QEAA)

(Q)EAA schema providers publish schemas and vocabularies describing (Q)EAA structure and semantics

PID = Personal Identification Data | A set of data enabling the identity of a natural person to be established.

[Architecture and Reference Framework](https://digital-strategy.ec.europa.eu/en/library/european-digital-identity-wallet-architecture-and-reference-framework)

"Note that Flows 3 and 4 from section 6.4 mandarte the ability to transfer credentials over the internet"

6.5.1

**Ideally this means a very small number of technical solutions to limit complexity**

Last page points to main relevant specs

[GitHub of Reference Framework](https://eu-digital-identity-wallet.github.io/eudi-doc-architecture-and-reference-framework/1.1.0/arf/#4114-qualified-and-non-qualified-electronic-attestation-of-attributes-schema-providers)

Note that  -->
<p><img src="/eidas.png" alt="" /></p>
<!-- https://www.criipto.com/blog/verifiable-credentials-vs-iso-18013-5#:~:text=The%20Verifiable%20Credential%20Data%20Model,%2C%20financial%20transactions%2C%20and%20more.
"""
The upcoming European Digital Identity (EUDI) wallet will support use cases across sectors like education, social security, financial transactions, and more. The wallet will leverage the VC Data Model, and its Architecture and Reference Framework explicitly mentions the W3C and ISO standards as part of its vision for a unified digital identity ecosystem.
""" -->
<h3 id="datauseandaccessbill">Data (Use and Access) Bill</h3>
<p>The <a href="https://bills.parliament.uk/bills/3825/">Data Use and Access Bill</a> is proposed legislation currently at committee stage in the House of Commons. One mandate of the bill is to create a Digital Verification Services (DVS) Trust Framework - driven by the Secretary of State maintaining a register of <em>service providers</em> accredited to provide some "digital verification services" in the UK.</p>
<p>The <a href="https://www.gov.uk/government/publications/uk-digital-identity-and-attributes-trust-framework-04">Digital Identity and Attributes Framework (DIATF)</a> has been created by the <a href="https://www.gov.uk/government/organisations/department-for-science-innovation-and-technology">Department of Science and Technology (DSIT)</a> in the UK, as a framework defining the <em>services</em> that different service providers in the UK can implement and become registered as a DVS service.</p>
<p>The DVS may be seen as the UK's equivalent to eIDAS regulation, whilst the DIATF may be seen as requivalent to the EU's <a href="https://digital-strategy.ec.europa.eu/en/library/european-digital-identity-wallet-architecture-and-reference-framework">Architecture and Reference Framework</a>.</p>
<p>Notably, the DIATF is less prescriptive of which standards must be used - and places more of a focus on the roles of different service providers. In the latest iteration of this framework, 5 service providers were defined:</p>
<ul>
<li><a href="https://www.gov.uk/government/publications/uk-digital-identity-and-attributes-trust-framework-04/uk-digital-identity-and-attributes-trust-framework-gamma-04-pre-release#rules-for-identity-service-providers">Identity Service Providers</a></li>
<li><a href="https://www.gov.uk/government/publications/uk-digital-identity-and-attributes-trust-framework-04/uk-digital-identity-and-attributes-trust-framework-gamma-04-pre-release#rules-for-attribute-service-providers">Attribute Service Providers</a></li>
<li><a href="https://www.gov.uk/government/publications/uk-digital-identity-and-attributes-trust-framework-04/uk-digital-identity-and-attributes-trust-framework-gamma-04-pre-release#rules-for-holder-service-providers">Holder Service Providers</a></li>
<li><a href="https://www.gov.uk/government/publications/uk-digital-identity-and-attributes-trust-framework-04/uk-digital-identity-and-attributes-trust-framework-gamma-04-pre-release#rules-for-orchestration-service-providers">Orchestration Service Providers</a>, and</li>
<li><a href="https://www.gov.uk/government/publications/uk-digital-identity-and-attributes-trust-framework-04/uk-digital-identity-and-attributes-trust-framework-gamma-04-pre-release#rules-for-component-service-providers">Component Service Providers</a></li>
</ul>
<p><img src="/daub.jpg" alt="" /></p>
<p>Source: <a href="https://enablingdigitalidentity.blog.gov.uk/2024/10/28/what-the-data-bill-means-for-digital-identity/">GOV.UK: What the data bill means for digital identity</a></p>
<h3 id="ukdigitaldriverslicense">UK Digital Driver's License</h3>
<p><img src="/govuk.png" alt="" /></p>
<p>Source: <a href="https://www.gov.uk/government/news/digital-driving-licence-coming-this-year">GOV.UK: Digital driving license coming this year</a></p>
<p>In January, the UK announced the <a href="https://www.gov.uk/government/news/digital-driving-licence-coming-this-year">Digital Driver&#39;s License</a> that will be made available through a new <a href="https://www.gov.uk">GOV.UK</a> App - planned to launch in the summer of 2025. Further, it is expected that there will be a digital form of <em>all</em> UK documents made available by 2027.</p>
<p>The core infrastructure backing this will be the <a href="https://www.iso.org/standard/69084.html">ISO mobile Driver&#39;s License (MDL)</a> standard.</p>
<h3 id="whateverishappeninginaustralia">Whatever is happening in Australia</h3>
<p><img src="/auswallet.jpg" alt="" /></p>
<p>Meanwhile, Australia has just ‚Ä¶ gotten on with the job, in most states you can download their digital driver's license <em>today</em> - in <a href="https://www.qld.gov.au/transport/projects/digital-licence/about">Queensland</a> the license was being piloted back in 2020, and has been available statewide since <a href="https://www.abc.net.au/news/2023-11-01/digital-queensland-drivers-licences-statewide-security-testing/103046186">November 2023</a>. South Australia, the first in the country to launch a digital driver's licence - has had once <a href="https://www.thalesgroup.com/en/markets/digital-identity-and-security/government/driving-licence/digital-driver-license">since 2017</a>!</p>
<!-- ## Options for holders -->
<h2 id="whysolidasaholderserviceshouldbetakenseriously">Why Solid as a Holder Service should be taken seriously</h2>
<p><img src="/solid.svg" alt="" /></p>
<h3 id="whatissolid">What is Solid</h3>
<p><a href="https://solidproject.org">Solid</a> is a standard for data storage on the Web - primarily created to allow <em>individuals</em> to store their personal data <em>separately</em> from websites. This enables re-use of data across platforms, and better control over consent management. Solid is now becoming an official W3C Standard under the <a href="https://www.w3.org/groups/wg/lws/">Linked Web Storage Working Group</a>.</p>
<p>Solid has three key features: <a href="https://solidproject.org/TR/oidc">Solid-OIDC</a> enabling Single Sign On similar to the way we "Sign in with Google", a <a href="https://solidproject.org/TR/protocol#storage-resource">standard HTTP interface</a> for applications to read and write data to a Personal Online Datastore (Pod), and <a href="https://solidproject.org/TR/protocol#auxiliary-resources-web-access-control">access controls</a> so users can manage <em>who</em> can read and write data to their Pod.</p>
<h3 id="thedisclaimer">The Disclaimer</h3>
<p>Now let me be upfront about the bias here. I work with Solid - <em>a lot</em>.</p>
<p>I <a href="https://theodi.org/profile/jesse-wright/">lead work</a> on Solid at the <a href="https://theodi.org">Open Data Institute</a> which <a href="https://theodi.org/news-and-events/news/odi-and-solid-come-together-to-give-individuals-greater-control-over-personal-data/">stewards</a> all opensource work on the Solid Project, am a <a href="https://www.cs.ox.ac.uk/people/jesse.wright/">Doctoral Student</a> in the <a href="https://ewada.ox.ac.uk">Ethical Web and Data Architectures (EWADA)</a> Group at the <a href="https://www.ox.ac.uk">University of Oxford</a>, independently contribute to <a href="https://github.com/jeswr">opensource projects</a> for Solid technologies, and formerly worked as an Enterprise Software Engineer at <a href="https://www.inrupt.com">Inrupt</a> - a commercial implementor of Solid.</p>
<h3 id="solidasacredentialholder">Solid as a Credential Holder</h3>
<!-- Throughline for all 3 of these sections needs to be that Solid is /simpler/ and /extensible to other datatypes/ -->
<p>I am of the view that the Solid Pods are ideal for use as <em>holder services</em> in the verifiable credential ecosystem, it is certainly <em>possible</em> as a <a href="https://github.com/openwallet-foundation-labs/solid-data-wallet">Solid Wallet</a> has already been donated to the <a href="https://openwallet.foundation">Open Wallet Foundation</a> demonstrating how this can be implemented.</p>
<p>The advantages of using Solid as a Holder service are as follows:</p>
<!-- Solid specification is ideally placed to act as a *holder

In direct relation to Solid/LWS, we recommended that it should be possible for holder storages and holder applications to be distinct services, this would allow implementations of the Solid/LWS specification to be certified against the framework without necessarily needing to be the implementor of the user-facing application for managing consent of the credentials. -->
<h4 id="portabilityofcredentials">Portability of credentials</h4>
<p><img src="/simondseconoart-small.png" alt="" /></p>
<p><a href="https://www.w3.org/DesignIssues/CloudStorage.html">Socially Aware Cloud Storage, Design Issues, Tim Berners-Lee</a></p>
<p>We've become accustomed to living in a world of <a href="https://www.w3.org/DesignIssues/CloudStorage.html">data silo&#39;s</a> - so much so that we barely notice it anymore. On most websites we find ourselves entering and re-entering the same basic mobile, email and date-of-birth to every website that we visit; and we find ourselves reconstructing the same set of contacts across Instagram, Facebook, Twitter, LinkedIn, Whatsapp, the list goes on ‚Ä¶</p>
<p>Solid was created to solve this problem, providing a standard way of reading and writing data to personal cloud storage. The way it works is simple: when you log in to a Solid-compatible website with Single Sign On - all the personal data that you create gets saved to the store - and are made accessible to any other Solid-compatible applications that you use the second you hit "consent for data usage." Much easier!</p>
<p>The existing Apple Wallet gives us a pretty good sense of the current trajectory for digital wallets and credentials, which is:</p>
<ul>
<li>I buy a GWR train ticket on my <a href="https://www.gwr.com/your-tickets/smart-tickets/mobile-app">GWR App</a>,</li>
<li>I click <em>add to my Apple Wallet</em></li>
</ul>
<p>Easy! But what if I:</p>
<ul>
<li>Bought the ticket with a PC, and saved it to Google Wallet instead? or,</li>
<li>Your phone dies, and you want to access the ticket from a friends phone?</li>
</ul>
<p>Then life is going to be a lot more difficult, because companies such as Apple want to keep these tickets closed within their ecosystem - just as they don't want your contacts or photo's to leave their ecosystem.</p>
<p><img src="/apple-wallet.png" alt="" /></p>
<p>The good news üéâ is that the Solid specification can be used here too - so we have a chance to intervene before this even becomes a problem.</p>
<h4 id="standardwebinterfacefortransferringcredentials">Standard Web interface for transferring credentials</h4>
<p>There are a <em>lot</em> of ways that credentials can be transferred. The <a href="https://www.iso.org/standard/69084.html">ISO Mobile driving licence (mDL)</a> standard alone defines the following credential exchange mechanisms within its standards document:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/QR_code">QR Code</a></li>
<li><a href="https://en.wikipedia.org/wiki/Near-field_communication">Near-field communication (NFC)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Bluetooth_Low_Energy">Bluetooth Low Energy (BLE)</a></li>
<li><a href="https://www.wi-fi.org/file/wi-fi-aware-specification">Wi-Fi Aware</a></li>
<li><a href="https://openid.net/developers/how-connect-works/">OpenID Connect (OIDC)</a>, or</li>
<li>WebAPI - an HTTP interface defined within the mobile Drivers License (mDL) specification, specifically defining how these mobile Drivers License's can be transported.</li>
</ul>
<p>Additionally, the <a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html">OpenID Foundation</a> has defined flows for credential issuance (<a href="https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0.html">OID4VCI</a>) - which supports <em>issuers</em> sending data to <em>holders</em>; and presentation (<a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html">OID4VP</a>) - which defines how <em>verifiers</em> can request credentials from <em>holders</em>. These OpenID flows are designed to support the transfer <em>any</em> form of W3C or ISO Verifiable Credential.</p>
<p>The <a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html">OID4VP</a> specification even supports the <a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html#name-digital-credentials-query-l">Digital Credentials Query Language (DCQL)</a> to allow the <em>verifier</em> to query for and filter the contents of credentials - producing a particular <a href="https://www.w3.org/TR/vc-data-model-2.0/#presentations"><em>presentation</em></a> that confroms to the verifiers query.</p>
<p>‚Ä¶ thats a lot of standards!</p>
<p>Whilst this has been happening, W3C groups have also been busy defining better ways for browsers to operate with your confidential data - including digital credentials. The <a href="https://www.w3.org/TR/credential-management-1/">Credential Management Level 1</a> (creative naming!) "describes an imperative API enabling a website to request a user's credentials from a user agent, and to help the user agent correctly store user credentials for future use" the credentials in scope for this group include <em>passwords</em>, <em>one time passcodes</em> and <em>digital credentials</em> such as Verifiable Credentials.</p>
<p>On top of this API specifications such as the <a href="https://w3c-ccg.github.io/credential-handler-api/#oncredentialrequest-attribute">Credentials Handling API (CHAPI)</a> are being developed.</p>
<!-- #### Standard Web interface for requesting access to credentials

A key throughline should be:
 - Things like DCQL __very specifically__ target access of credentials; Solid is built with the view of supporting an arbitrary range of data types and we should be doing that ""furure proofing

Important Questions to answer:
 - Why don't we just use DCQL to fetch the credentials "Digital Credentials Query Language (DCQL) as an alternative, simpler mechanism to request specific credentials, alongside the existing Presentation Exchange format."
 - 

 https://tac.openwallet.foundation/projects/dcql-ts/

**The Digital Credentials Query Language (DCQL, pronounced [ÀàdaklÃ©]) is a JSON-encoded query language that allows the Verifier to request Verifiable Presentations that match the query. The Verifier MAY encode constraints on the combinations of credentials and claims that are requested. The Wallet evaluates the query against the Verifiable Credentials it holds and returns Verifiable Presentations matching the query.**


**The W3C has a Credentials Community Group exploring Browser APIs (so web pages can request VCs from the browser, like how WebAuthn works) and better ways to do secure QR code scans. DIF has the Presentation Exchange format to standardize how verifiers ask for credentials (so that a wallet can automatically find the right credential to respond with). The CHAPI (Credential Handler API) is another browser-based approach to let users pick a wallet to use on a website.**

The [W3C Credentials API Specification](https://w3c-ccg.github.io/vc-api/#design-goals-and-rationale) "provides a set of HTTP Application Programming Interfaces (HTTP APIs) and protocols for issuing, verifying, presenting, and managing Verifiable Credentials" and has a similar goal to "increase market competition and reduce vendor lock-in and switching costs."

For holders, the [following API's are defined](https://w3c-ccg.github.io/vc-api/#holder-service)

TL;DR: THE DCQL is used within the request to the `/presentations` endpoint of a holder service.

---

The following is not VC speciifc, defines an API for managing a number of credentials from VC's to otp's and passwords, and defines when to e.g. use those credentials for autocompletion

[Credential Management Level 1](https://www.w3.org/TR/credential-management-1/) "This specification describes an imperative API enabling a website to request a user's credentials from a user agent, and to help the user agent correctly store user credentials for future use."

---

TODO: Clarify where CHAPI sits in the picture:
 - https://chatgpt.com/share/67d16c12-3b14-800c-abd8-2ba65480d542
 - https://w3c-ccg.github.io/credential-handler-api/#oncredentialrequest-attribute

It seems that CHAPI describes *browser API's* that allows access to credentials managed within the browser.

---

https://wicg.github.io/digital-credentials/ then seems to be an attempt to replace CHAPI. -->
<p>Given this diaspora of transfer standards for digital credentials - it begs the question - why should we propose Solid as yet another set of interfaces for transferring data to and from holder services?</p>
<!-- TODO: Improve this seciton -->
<p>Well there are a few:</p>
<ol>
<li>The Solid APIs are symmetric with the file system. This means that you can view your credentials through a file-system like interface - whilst they are living in cloud storage that you manage.</li>
<li>Whilst credentials can be made available both through the Credentials Handling API in the browser - they can also be accessed directly from personal cloud storage by service providers who have been granted consent to access the credential.</li>
<li>Solid provides a means to completely decouple consent management interfaces from the holder of credentials - because of the standardised Access Control mechanisms that it has.</li>
</ol>
<p>But most importantly <strong>Solid is about far more than just credentials</strong>. In his <a href="https://www.ft.com/content/79d2d19a-08df-48fc-9a6f-a9dbef58f642">recent article in the Financial Times</a>; Sir Tim Berners-Lee discussed how Solid is really about taking back control of <em>all of your data</em> - including your social media contacts, your financial data, and your health records - to enable you to be empowered with this data. This empowerment can be as simple as revoking access of your data to platforms you no-longer trust, or porting your Facebook contacts on to Reddit through to the use of trusted AI agents that support your wellbeing.</p>
<!-- So the play here in the shorter term is:
 - Credentials live in Solid Pod which allows you to view the credentials,
 - *an exchange protocol* is either fetching data using the Solid API's; or a `derive` endpoint as an addition to a Pod
 - a Websites JS code can request those credentials using the Digital Credentials API which under the hood uses [Credential Management Level 1](https://www.w3.org/TR/credential-management-1/)
 - Because the credentials live in an online data store - the credential also does not need to be passed directly using the browser; instead the credential can be transferred *directly* from the Pod to the Server. -->
<!-- TODO: re introduce this "thus part into the article" -->
<!-- Thus:
 - Solid is *compatible* with the emergent credential handling interfaces where it is assumed the holder is on the browser / or device
 - Solid provides better consent management options in cases where the credentials are to be transferred directly between webservers (this is the async flows point) -->
<!-- #### Standardised consent flows

#### Async flows

E.g.
 - AI agents managing credentials on your behalf
 -  -->
<h2 id="queryabilityofverifiablecredentials">Queryability of Verifiable Credentials</h2>
<p><img src="/sparql.webp" alt="" /></p>
<p>Let me again present my bias' upfront. The last 5 years of my work and research have revolved around <a href="https://en.wikipedia.org/wiki/Semantic_Web">Semantic Web Technologies</a> - and my current research is on the very topic of <a href="https://github.com/jeswr/queryable-credentials">Queryable Credentials</a>, and I recently <a href="https://fosdem.org/2025/schedule/event/fosdem-2025-5970-are-current-standards-enough-towards-verifiable-credentials-with-expressive-zero-knowledge-query/">gave a talk on this topic at FOSDEM</a> (video below).</p>
<p>So <a href="https://github.com/jeswr/queryable-credentials?tab=readme-ov-file#but-dont-query-apis-for-credentials-already-exist">when I heard</a> that there was a <a href="https://openid.net/specs/openid-4-verifiable-presentations-1_0.html#name-digital-credentials-query-l">Digital Credentials Query Language (DCQL)</a> as part of the <a href="https://openid.net/sg/openid4vc/">OID4VP</a> specification I was thrilled - but sadly that was short-lived. This is because the expressivity of DQCL is largely restricted to filtering operations to determine:</p>
<ul>
<li>Which Verifiable Credentials to include as part of a <a href="https://www.w3.org/TR/vc-data-model-2.0/#presentations">Verifiable Presentation</a></li>
<li>Which subset of attributes to from those Credentials to include in the Verifiable Presentation</li>
</ul>
<p>Ok, but surely there must be a little more capability to the current specifications than this - after all, it is promised that you can prove your age without revealing your date of birth when using digital drivers licenses - so there must be some way of querying for age ‚Ä¶</p>
<p>‚Ä¶ right?</p>
<p><strong>Wrong</strong>. Taking a deeper look at the <a href="https://www.iso.org/standard/69084.html">ISO Mobile driving license (mDL)</a> reveals that the <strong>issuer</strong> (e.g. the DVLA) has to <em>explicitly sign statements</em> about your age; so my digital drivers license might look something like this:</p>
<pre><code class="json language-json">{
  ...
  age: "00-00-2000",
  is_over_18: true,
  is_over_21: true,
  is_over_65: false,
  ...
}
</code></pre>
<p>This means that:</p>
<ul>
<li>I have to tell the issuer (DVLA) that I want to prove I'm over 18 - when this isn't something they need to know.</li>
<li>I am <em>reliant</em> on the <em>issuer</em> (DVLA) to issue these statements - so if my driving authority doesn't want to issue <code>is_over_21</code> statements; I may be forced to reveal my age. Whilst this is less problematic - and less likely - in the case of age; it is an issue when trying to any <em>non-standard</em> derivation. For example, proving non-caucasian ethnicity, without revealing the minority population that you belong to.</li>
<li>I cannot tell the verifier (e.g. my future employer at the tomato farm) about information that can be derived from multiple credentials. Want to prove to a car hire agency that you can drive in the UK without giving them details from your license, visa and passport; then you're out of luck!</li>
</ul>
<p>This is a far cry from the kind of derivations that can be performed using the <a href="https://rubenverborgh.github.io/Semantic-Web-Reasoning/">semantic reasoning and query engines</a>. The good news is that it is technically feasible for the <em>holder</em> (you) to do deriviations such as <a href="https://github.com/jeswr/queryable-credentials?tab=readme-ov-file#initial-design-thoughts-for-a-queryable-api">this one</a> and then hand them to the <em>verifier</em> - that's what the <a href="https://video.fosdem.org/2025/aw1126/fosdem-2025-5970-are-current-standards-enough-towards-verifiable-credentials-with-expressive-zero-knowledge-query.mp4">below talk</a> is about.</p>
<p>The bigger challenge is now to get the technology production ready and standardized.</p>
<video controls>
  <source src="https://video.fosdem.org/2025/aw1126/fosdem-2025-5970-are-current-standards-enough-towards-verifiable-credentials-with-expressive-zero-knowledge-query.mp4" type="video/mp4">
</video>
<h3 id="doesitevenmakesensetobetalkingaboutcredentials">Does it even make sense to be talking about credentials?</h3>
<p>As I discuss further <a href="https://github.com/jeswr/queryable-credentials?tab=readme-ov-file#on-abstractions">here</a> - whilst it is sensible to talk about credentials to end-users of applications; it is my position that credentials are the wrong object to be working with at a standards level. Instead, we should be talking about <a href="https://github.com/jeswr/queryable-credentials?tab=readme-ov-file#initial-design-thoughts-for-a-queryable-api">datasets of facts</a>, with metadata such as signatures and proofs that attest to their integrity.</p>
<!-- TODO: Elaborate -->
<h2 id="furtherreading">Further Reading</h2>
<p>In producing this article I came across a number of useful materials, here is my top selection for further reading:</p>
<ul>
<li><a href="https://auth0.com/blog/our-take-on-verifiable-credentials/">Auth0&#39;s take on Verifable Credentials</a></li>
<li><a href="https://collateral-library-production.s3.amazonaws.com/uploads/asset_file/attachment/36416/CS676613_-_Digital_Credentials_promotion_campaign-White_Paper_R3.pdf">Verifiable Credentials and ISO/IEC 18013-5 Based Credentials</a></li>
<li><a href="https://www.linkedin.com/pulse/verifiable-credential-formats-eudi-wallet-w3c-vc-dm-iso-18013-5-kbcmf/">Verifiable Credential Formats in the EUDI Wallet: W3C VC DM and ISO 18013-5 mDL/mDoc</a></li>
<li><a href="https://www.pingidentity.com/en/resources/identity-fundamentals/decentralized-identity-management/decentralized-identity-standards.html">Decentralized Identity Standards, PingIdentity</a></li>
<li><a href="https://talao.io/blog/eudi-wallet-understanding-credentials-in-eidas-2-eaa-qeaa-and-pid/">EUDI Wallet and eIDAS 2</a></li>
<li><a href="https://chatgpt.com/share/67cdaacf-5728-800c-ac59-137d7d1aeec9">GPT 4.5 Researchers&#39; take on the topic</a></li>
</ul>
<div class="footnotes">
  <hr>
  <ol>
    <li id="footnote1">
      Trust me - Software Engineers will think about becoming a farmer at least once a day.
      <a href="#footnote1-ref" aria-label="Back to content">‚Ü©</a>
    </li>
    <li id="footnote2">
      ^^ Yes, really.
      <a href="#footnote2-ref" aria-label="Back to content">‚Ü©</a>
    </li>
  </ol>
</div>
</article>



<footer class="text-center mar-tb-6">
    ¬© 2025 Jesse Wright, unless otherwise stated.
</footer>

<script>hljs.highlightAll();</script>
</body>
</html>

